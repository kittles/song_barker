<head>
    <script src="/puppet/jquery.min.js"></script>
    <script src="/puppet/easing.js"></script>
    <script src="/puppet/lodash.js"></script>
    <script src="/puppet/lodash.fp.js"></script>
    <script src="/puppet/three.110.js"></script>
    <script src="/puppet/gltf_loader.js"></script>
    <script src="/puppet/orbit_controls.js"></script>
    <script src="/puppet/stats.min.js"></script>
    <script src="/puppet/raf.js"></script>
    <script src="/puppet/performance.js"></script>
    <script src="/puppet/math.min.js"></script>
    <!-- for transpiling async await -->
    <script src="/puppet/runtime.js"></script>
    <link rel="stylesheet" type="text/css" href="/puppet/card-flex.css">
    <script>
        try {
            window.greeting_card = {};
            window.greeting_card.uuid='{{uuid}}';
            window.greeting_card.card_audio_id='{{card_audio_id}}';
            window.greeting_card.image_id='{{image_id}}';
            window.greeting_card.decoration_image_id='{{decoration_image_id}}';
            window.greeting_card.animation_json=JSON.parse('{{{animation_json}}}');
            window.greeting_card.image_coordinates_json=JSON.parse('{{{image_coordinates_json}}}');
            window.greeting_card.name='{{name}}';
        } catch (error) {
            $(document).ready(() => {
                $('#error-message').text(`problem with greeting_card values: ${error}`);
                $('#error').fadeIn(100);
            });
        }
    </script>
    <meta property="og:title" content="K9 Karaoke Card">
    <meta property="og:description" content="Someone's pet has a message for you">
    <meta property="og:image" content="https://storage.googleapis.com/song_barker_sequences/images/{{image_id}}.jpg">
    <meta property="og:url" content="https://thedogbarksthesong.ml/card/{{uuid}}">

    <meta name="twitter:title" content="K9 Karaoke Card">
    <meta name="twitter:description" content="Someone's pet has a message for you">
    <meta name="twitter:image" content="https://storage.googleapis.com/song_barker_sequences/images/{{image_id}}.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="viewport" content="width=device-width">
</head>
<body>
    <!--
    -->
    <img id="k9-logo" src="/puppet/k9_logotype_small.png"></img>
    <div id="content">
        <div id="card-container">
            <div id="puppet-container"></div>
            <img id="decoration-image"></img>
            <div id="big-button-container">
                <img id="big-button-img" src="/puppet/play.png"></img>
            </div>
            <div id="controls-container">
                <div id="play-control">
                    <img class="flex-icon" src="/puppet/play.png"></img>
                </div>
                <div id="replay-control">
                    <img class="flex-icon" src="/puppet/replay.png"></img>
                </div>
                <div id="volume-slider">
                    <input id="progress" type="range" min="0" max="100" step="1" value="100" data-before />
                </div>
                <div id="volume-icon">
                    <img class="flex-icon" src="/puppet/volume_loud.png"></img>
                </div>
            </div>
        </div>
        <div id="envelope-back" class="envelope-back-piece"></div>
        <div id="envelope-pouch" class="envelope-back-piece"></div>
        <!--
        <div id="envelope-below" class="envelope-back-piece"></div>
        -->
        <div id="envelope-flap-underside" class="envelope-flap-piece"></div>
        <div id="envelope-flap" class="envelope-flap-piece"></div>
    </div>
    <div id="error">
        <div id="error-message">im sad</div>
    </div>
    <script src="/build/puppet.js"></script>
</body>
